# Parser for METRO

Парсер для сайта **Метро** (https://online.metro-cc.ru/). Парсер собирает информацию о товарах с сайта для двух городов.

## Задание

Необходимо написать парсер для сайта **Метро**, который должен был:

- Собрать данные о товарах из любой категории, где более 100 товаров.
- Для каждого товара выгрузить:
  - ID товара
  - Наименование
  - Ссылку на товар
  - Регулярную цену
  - Промо цену
  - Бренд (опционально)
  
Парсер должен работать для городов **Москва** и **Санкт-Петербург** и выгружать данные в файл.

## Реализация

Я реализовал парсер с использованием библиотеки **Selenium** для автоматизации работы с веб-страницами. Основные функции:

1. **Смена города** — парсер автоматически меняет город на нужный.
2. **Подтверждение возраста** — парсер подтверждает, что пользователь совершеннолетний, при необходимости.
3. **Загрузка всех товаров** — парсер продолжает кликать кнопку "Загрузить больше товаров", пока все товары не будут раскрыты.
4. **Парсинг товаров** — собираются данные о каждом товаре, включая цены и бренд (если опция активирована).
5. **Вывод данных** — данные сохраняются в CSV файл.

### Особенности:
- **Опциональность извлечения бренда**: Бренд товара извлекается не с общей страницы категории товаров, а с отдельной страницы товара. Это связано с тем, что на странице списка товаров информация о бренде не представлена. Для получения бренда необходимо перейти на каждую страницу товара, что увеличивает время работы парсера. Поэтому извлечение бренда сделано опциональным и может быть отключено для ускорения парсинга.
  
## Установка и запуск

1. Установить все зависимости:

    ```bash
    pip install -r requirements.txt
    ```

2. Скачайте ChromeDriver и соответсвующую ему верисю Google Chrome и укажите путь к ChromeDriver в коде.

3. Запустите скрипт:

    ```bash
    python main.py
    ```
   
## Различия в данных

Данные в двух CSV-файлах могут отличаться, так как парсинг был проведён в разное время. В результате, на момент парсинга наличие товаров на сайте могло измениться.


